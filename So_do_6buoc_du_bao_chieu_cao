<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quy trình Chẩn đoán Tuổi Xương - Greulich & Pyle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid #eaeaea;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
            font-style: italic;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .methodology {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .methodology h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .flowchart-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        .canvas-wrapper {
            width: 100%;
            overflow: auto;
            border: 1px solid #e1e8ed;
            border-radius: 12px;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 20px;
        }
        
        canvas {
            display: block;
            margin: 0 auto;
        }
        
        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .step-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-top: 5px solid;
            height: 100%;
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .step-title {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 18px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background-color: #2c3e50;
            color: white;
            border-radius: 50%;
            font-size: 1rem;
            font-weight: bold;
        }
        
        .step-subtitle {
            font-weight: 600;
            color: #3498db;
            margin: 15px 0 8px;
            font-size: 1.05rem;
        }
        
        .step-text {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #5d6d7e;
        }
        
        .step-text small {
            font-style: italic;
            color: #7d8b9a;
            display: block;
            margin-top: 8px;
            padding-left: 15px;
            border-left: 3px solid #eaeaea;
        }
        
        .notes {
            background: #fff9e6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border-left: 4px solid #f39c12;
        }
        
        .notes h3 {
            color: #e67e22;
            margin-bottom: 10px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
            font-size: 0.95rem;
            color: #7f8c8d;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .steps-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Quy trình Kỹ thuật Chẩn đoán Tuổi Xương Trẻ em</h1>
            <p class="subtitle">Phương pháp Greulich & Pyle - Đánh giá tuổi xương thông qua X-quang bàn tay và cổ tay</p>
        </header>
        
        <div class="methodology">
            <h3>Giới thiệu về Phương pháp Greulich & Pyle</h3>
            <p>Phương pháp Greulich & Pyle là kỹ thuật chuẩn vàng trong đánh giá tuổi xương, sử dụng bộ atlas chuẩn để so sánh phim X-quang bàn tay và cổ tay của trẻ với các mẫu chuẩn theo độ tuổi và giới tính.</p>
        </div>
        
        <div class="flowchart-container">
            <div class="canvas-wrapper">
                <canvas id="flowchartCanvas" width="1100" height="700"></canvas>
            </div>
        </div>
        
        <div class="steps-container">
            <div class="step-card" style="border-top-color: #3498db;">
                <div class="step-title">
                    <span class="step-number">1</span>
                    <span>Chuẩn bị và Chụp X-quang</span>
                </div>
                <div class="step-subtitle">Chuẩn bị bệnh nhân:</div>
                <p class="step-text">Giải thích quy trình cho trẻ và phụ huynh. Đảm bảo trẻ tháo bỏ trang sức, đồng hồ ở tay trái.</p>
                
                <div class="step-subtitle">Tư thế chụp:</div>
                <p class="step-text">Đặt bàn tay trái của trẻ lên phim với ngón tay hơi khép, lòng bàn tay úp xuống. Cẳng tay và bàn tay thẳng hàng trên cùng một mặt phẳng. Ngón tay cái hơi xoay ra ngoài (khoảng 30°).</p>
                
                <div class="step-subtitle">Kỹ thuật chụp:</div>
                <p class="step-text">Khoảng cách ống X-quang: 90-100 cm. Điện thế: 50-60 kVp. Điện lượng: 2-5 mAs tùy độ tuổi. Đảm bảo toàn bộ bàn tay và cổ tay được hiển thị rõ ràng trên phim.</p>
                
                <div class="step-subtitle">Yêu cầu chất lượng phim:</div>
                <p class="step-text">Phim phải hiển thị rõ nét toàn bộ bàn tay và cổ tay, bao gồm cả đầu dưới xương quay và xương trụ. Độ tương phản tốt, không bị nhòe, không bị che khuất.</p>
            </div>
            
            <div class="step-card" style="border-top-color: #2ecc71;">
                <div class="step-title">
                    <span class="step-number">2</span>
                    <span>Chuẩn bị Atlas và Phim X-quang</span>
                </div>
                <div class="step-subtitle">Chuẩn bị Atlas Greulich & Pyle:</div>
                <p class="step-text">Sử dụng Atlas Greulich & Pyle phiên bản mới nhất. Xác định bộ Atlas phù hợp theo giới tính (nam/nữ).</p>
                
                <div class="step-subtitle">Sắp xếp phim X-quang:</div>
                <p class="step-text">Đặt phim X-quang của bệnh nhân trên hộp đèn. Đảm bảo ánh sáng đủ và đồng đều. Điều chỉnh độ sáng để quan sát rõ các chi tiết xương.</p>
                
                <div class="step-subtitle">Xác định thông tin cơ bản:</div>
                <p class="step-text">Ghi nhận tuổi thực của trẻ (theo ngày tháng năm sinh). Xác định giới tính của trẻ. Ghi nhận ngày chụp X-quang.</p>
                
                <div class="step-subtitle">Chuẩn bị dụng cụ:</div>
                <p class="step-text">Chuẩn bị thước đo, kính lúp nếu cần. Đảm bảo khu vực đọc phim đủ ánh sáng và không bị phân tâm.</p>
            </div>
            
            <div class="step-card" style="border-top-color: #e74c3c;">
                <div class="step-title">
                    <span class="step-number">3</span>
                    <span>Đánh giá các vùng xương quan trọng</span>
                </div>
                <div class="step-subtitle">Các xương cổ tay:</div>
                <p class="step-text">Đánh giá sự xuất hiện và phát triển của các xương cổ tay: thuyền, nguyệt, tháp, đậu, thang, thê, cả. Quan sát sự xuất hiện của điểm cốt hóa và hình dạng xương.</p>
                
                <div class="step-subtitle">Các đầu xương dài:</div>
                <p class="step-text">Đánh giá đầu dưới xương quay và xương trụ. Quan sát sự phát triển của sụn tăng trưởng và sự xuất hiện của điểm cốt hóa.</p>
                
                <div class="step-subtitle">Xương đốt bàn tay:</div>
                <p class="step-text">Quan sát sự phát triển của các xương đốt bàn tay I-V. Đánh giá hình dạng và kích thước của chúng.</p>
                
                <div class="step-subtitle">Xương ngón tay:</div>
                <p class="step-text">Đánh giá các xương đốt gần, đốt giữa và đốt xa của tất cả các ngón tay. Quan sát sự phát triển của các đầu xương và sự thu hẹp của sụn tăng trưởng.</p>
                
                <div class="step-subtitle">Xương đốt ngón cái:</div>
                <p class="step-text">Đặc biệt chú ý đến xương đốt ngón cái, thường có mẫu phát triển đặc trưng theo tuổi.</p>
            </div>
            
            <div class="step-card" style="border-top-color: #f39c12;">
                <div class="step-title">
                    <span class="step-number">4</span>
                    <span>So sánh với Atlas Greulich & Pyle</span>
                </div>
                <div class="step-subtitle">Phương pháp so sánh toàn bộ:</div>
                <p class="step-text">So sánh tổng thể phim X-quang của bệnh nhân với các mẫu trong Atlas. Tìm mẫu có mức độ phát triển xương tương đồng nhất. Xem xét tất cả các vùng xương cùng lúc.</p>
                
                <div class="step-subtitle">Phương pháp so sánh từng xương:</div>
                <p class="step-text">So sánh từng xương riêng lẻ với Atlas. Đánh giá mức độ phát triển của từng xương. Ghi nhận sự tương đồng và khác biệt.</p>
                
                <div class="step-subtitle">Đánh giá theo trình tự phát triển:</div>
                <p class="step-text">Xác định trình tự xuất hiện và phát triển của các điểm cốt hóa. So sánh với trình tự chuẩn trong Atlas.</p>
                
                <div class="step-subtitle">Xác định tuổi xương ước tính:</div>
                <p class="step-text">Dựa trên sự so sánh, xác định tuổi xương ước tính (theo tháng/năm). Ghi nhận tuổi xương tương ứng với mẫu phù hợp nhất.</p>
            </div>
            
            <div class="step-card" style="border-top-color: #9b59b6;">
                <div class="step-title">
                    <span class="step-number">5</span>
                    <span>Phân tích và Diễn giải kết quả</span>
                </div>
                <div class="step-subtitle">So sánh tuổi xương và tuổi thực:</div>
                <p class="step-text">Tính toán chênh lệch giữa tuổi xương và tuổi thực. Đánh giá mức độ chênh lệch: bình thường, chậm trễ, hay tăng tốc.</p>
                
                <div class="step-subtitle">Đánh giá mức độ trưởng thành:</div>
                <p class="step-text">Xác định mức độ trưởng thành của hệ xương. Đánh giá tiềm năng tăng trưởng còn lại dựa trên tuổi xương.</p>
                
                <div class="step-subtitle">Phân tích các bất thường:</div>
                <p class="step-text">Ghi nhận các bất thường nếu có: bất thường về hình dạng xương, kích thước, mật độ xương, hay sự bất đối xứng.</p>
                
                <div class="step-subtitle">Đánh giá độ chính xác:</div>
                <p class="step-text">Xác định độ tin cậy của kết quả. Ghi nhận các yếu tố có thể ảnh hưởng đến độ chính xác: chất lượng phim, kinh nghiệm người đọc.</p>
            </div>
            
            <div class="step-card" style="border-top-color: #1abc9c;">
                <div class="step-title">
                    <span class="step-number">6</span>
                    <span>Báo cáo và Tư vấn</span>
                </div>
                <div class="step-subtitle">Lập báo cáo kết quả:</div>
                <p class="step-text">Ghi rõ tuổi xương ước tính (theo năm và tháng). So sánh với tuổi thực và tính chênh lệch. Mô tả ngắn gọn các đặc điểm phát triển xương quan trọng.</p>
                
                <div class="step-subtitle">Diễn giải ý nghĩa lâm sàng:</div>
                <p class="step-text">Giải thích ý nghĩa của kết quả tuổi xương trong bối cảnh lâm sàng. Đánh giá tác động đến tiên lượng tăng trưởng chiều cao.</p>
                
                <div class="step-subtitle">Tư vấn cho bác sĩ lâm sàng:</div>
                <p class="step-text">Cung cấp thông tin cho bác sĩ điều trị để hỗ trợ chẩn đoán và điều trị. Đề xuất các đánh giá bổ sung nếu cần.</p>
                
                <div class="step-subtitle">Tư vấn cho gia đình:</div>
                <p class="step-text">Giải thích kết quả cho phụ huynh một cách dễ hiểu. Cung cấp thông tin về ý nghĩa của tuổi xương và tác động đến sự phát triển của trẻ. Đưa ra các khuyến nghị về theo dõi và can thiệp nếu cần.</p>
            </div>
        </div>
        
        <div class="notes">
            <h3>Lưu ý quan trọng khi thực hiện</h3>
            <p>• Phương pháp Greulich & Pyle có độ chính xác cao nhưng phụ thuộc vào kinh nghiệm của người đọc.</p>
            <p>• Cần xem xét các yếu tố ảnh hưởng đến sự phát triển xương: dinh dưỡng, bệnh tật, nội tiết.</p>
            <p>• Kết quả nên được diễn giải trong bối cảnh lâm sàng tổng thể của bệnh nhân.</p>
            <p>• Đối với trẻ có bất thường về phát triển, có thể cần đánh giá tuổi xương định kỳ 6-12 tháng/lần.</p>
        </div>
        
        <div class="footer">
            <p>Quy trình kỹ thuật chẩn đoán tuổi xương theo phương pháp Greulich & Pyle - Tài liệu tham khảo cho chuyên gia y tế</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('flowchartCanvas');
            const ctx = canvas.getContext('2d');
            
            // Colors for each step
            const colors = [
                '#3498db', // Step 1 - Blue
                '#2ecc71', // Step 2 - Green
                '#e74c3c', // Step 3 - Red
                '#f39c12', // Step 4 - Orange
                '#9b59b6', // Step 5 - Purple
                '#1abc9c'  // Step 6 - Teal
            ];
            
            // Step titles
            const stepTitles = [
                "Bước 1:\nChuẩn bị và\nChụp X-quang",
                "Bước 2:\nChuẩn bị Atlas\nvà Phim X-quang",
                "Bước 3:\nĐánh giá các vùng\nxương quan trọng",
                "Bước 4:\nSo sánh với\nAtlas G&P",
                "Bước 5:\nPhân tích và\nDiễn giải kết quả",
                "Bước 6:\nBáo cáo và\nTư vấn"
            ];
            
            // Step details (shortened for display in flowchart)
            const stepDetails = [
                "• Chuẩn bị bệnh nhân\n• Tư thế chụp chuẩn\n• Kỹ thuật chụp X-quang\n• Đảm bảo chất lượng phim",
                "• Chuẩn bị Atlas G&P\n• Sắp xếp phim X-quang\n• Xác định thông tin\n• Chuẩn bị dụng cụ",
                "• Xương cổ tay\n• Đầu xương dài\n• Xương đốt bàn tay\n• Xương ngón tay",
                "• So sánh toàn bộ\n• So sánh từng xương\n• Đánh giá trình tự\n• Xác định tuổi xương",
                "• So sánh tuổi xương/thực\n• Đánh giá trưởng thành\n• Phân tích bất thường\n• Đánh giá độ chính xác",
                "• Lập báo cáo kết quả\n• Diễn giải lâm sàng\n• Tư vấn bác sĩ\n• Tư vấn gia đình"
            ];
            
            // Draw the flowchart
            drawFlowchart();
            
            function drawFlowchart() {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Define positions for each step
                const stepWidth = 160;
                const stepHeight = 180;
                const horizontalSpacing = 200;
                const startY = 100;
                
                // Calculate positions for steps in two rows
                const step1X = 150;
                const step1Y = startY;
                
                const step2X = step1X + horizontalSpacing;
                const step2Y = startY;
                
                const step3X = step2X + horizontalSpacing;
                const step3Y = startY;
                
                const step4X = step1X;
                const step4Y = startY + stepHeight + 100;
                
                const step5X = step2X;
                const step5Y = startY + stepHeight + 100;
                
                const step6X = step3X;
                const step6Y = startY + stepHeight + 100;
                
                // Draw connecting arrows
                ctx.strokeStyle = '#8B0000';
                ctx.lineWidth = 3;
                ctx.fillStyle = '#8B0000';
                
                // Step 1 -> Step 2
                drawArrow(
                    step1X + stepWidth, step1Y + stepHeight/2,
                    step2X, step2Y + stepHeight/2,
                    8
                );
                
                // Step 2 -> Step 3
                drawArrow(
                    step2X + stepWidth, step2Y + stepHeight/2,
                    step3X, step3Y + stepHeight/2,
                    8
                );
                
                // Step 3 -> Step 4
                drawArrow(
                    step3X + stepWidth/2, step3Y + stepHeight,
                    step4X + stepWidth/2, step4Y,
                    8
                );
                
                // Step 4 -> Step 5
                drawArrow(
                    step4X + stepWidth, step4Y + stepHeight/2,
                    step5X, step5Y + stepHeight/2,
                    8
                );
                
                // Step 5 -> Step 6
                drawArrow(
                    step5X + stepWidth, step5Y + stepHeight/2,
                    step6X, step6Y + stepHeight/2,
                    8
                );
                
                // Draw steps
                drawStep(step1X, step1Y, stepWidth, stepHeight, colors[0], stepTitles[0], stepDetails[0], 1);
                drawStep(step2X, step2Y, stepWidth, stepHeight, colors[1], stepTitles[1], stepDetails[1], 2);
                drawStep(step3X, step3Y, stepWidth, stepHeight, colors[2], stepTitles[2], stepDetails[2], 3);
                drawStep(step4X, step4Y, stepWidth, stepHeight, colors[3], stepTitles[3], stepDetails[3], 4);
                drawStep(step5X, step5Y, stepWidth, stepHeight, colors[4], stepTitles[4], stepDetails[4], 5);
                drawStep(step6X, step6Y, stepWidth, stepHeight, colors[5], stepTitles[5], stepDetails[5], 6);
                
                // Draw title
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('QUY TRÌNH CHẨN ĐOÁN TUỔI XƯƠNG THEO GREULICH & PYLE', canvas.width/2, 50);
            }
            
            function drawStep(x, y, width, height, color, title, details, stepNumber) {
                // Draw main rectangle
                drawRoundedRect(x, y, width, height, 15, color);
                
                // Draw step number circle
                ctx.fillStyle = '#2c3e50';
                ctx.beginPath();
                ctx.arc(x + width/2, y + 25, 18, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(stepNumber.toString(), x + width/2, y + 25);
                
                // Draw title
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                
                // Split title by newlines and draw each line
                const titleLines = title.split('\n');
                for (let i = 0; i < titleLines.length; i++) {
                    ctx.fillText(titleLines[i], x + width/2, y + 55 + i * 18);
                }
                
                // Draw details
                ctx.fillStyle = '#2c3e50';
                ctx.font = '11px Arial';
                ctx.textAlign = 'left';
                
                // Split details by newlines and draw each line
                const detailLines = details.split('\n');
                for (let i = 0; i < detailLines.length; i++) {
                    ctx.fillText(detailLines[i], x + 10, y + 95 + i * 14);
                }
            }
            
            function drawRoundedRect(x, y, width, height, radius, color) {
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
                ctx.fill();
                
                // Add subtle shadow
                ctx.strokeStyle = 'rgba(0, 0, 0, 0.15)';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
            
            function drawArrow(fromX, fromY, toX, toY, headSize) {
                ctx.strokeStyle = '#8B0000';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(fromX, fromY);
                ctx.lineTo(toX, toY);
                ctx.stroke();
                
                // Arrowhead
                const angle = Math.atan2(toY - fromY, toX - fromX);
                
                ctx.fillStyle = '#8B0000';
                ctx.beginPath();
                ctx.moveTo(toX, toY);
                ctx.lineTo(
                    toX - headSize * Math.cos(angle - Math.PI / 6),
                    toY - headSize * Math.sin(angle - Math.PI / 6)
                );
                ctx.lineTo(
                    toX - headSize * Math.cos(angle + Math.PI / 6),
                    toY - headSize * Math.sin(angle + Math.PI / 6)
                );
                ctx.closePath();
                ctx.fill();
            }
        });
    </script>
</body>
</html>
